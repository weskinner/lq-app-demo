(this.webpackJsonpliqwid=this.webpackJsonpliqwid||[]).push([[0],{17:function(e,t,n){e.exports={row:"Counter_row__1C_4f",value:"Counter_value__1d0te",button:"Counter_button__1xpSV",textbox:"Counter_textbox__3ODaX",asyncButton:"Counter_asyncButton__2UAr3 Counter_button__1xpSV"}},48:function(e,t,n){},54:function(e,t,n){},55:function(e,t,n){},57:function(e,t,n){},58:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n.n(c),a=n(14),s=n.n(a),i=(n(48),n.p,n(12)),l=n(7),j=n(36),d=n.n(j),u=n(38),o=n(11);function b(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return new Promise((function(t){return setTimeout((function(){return t({data:e})}),500)}))}var h=Object(o.createAsyncThunk)("counter/fetchCount",function(){var e=Object(u.a)(d.a.mark((function e(t){var n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b(t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),O=Object(o.createSlice)({name:"counter",initialState:{value:0,status:"idle"},reducers:{increment:function(e){e.value+=1},decrement:function(e){e.value-=1},incrementByAmount:function(e,t){e.value+=t.payload}},extraReducers:function(e){e.addCase(h.pending,(function(e){e.status="loading"})).addCase(h.fulfilled,(function(e,t){e.status="idle",e.value+=t.payload}))}}),x=O.actions,m=(x.increment,x.decrement,x.incrementByAmount,O.reducer),p=(n(17),n(1));n(54);n(55);var f=n(43),y=n(37),w=n(23),v=n(61),k=n(42),S=n(62),A=Object(o.createSlice)({name:"supply",initialState:{markets:[{asset:"ADA",APY:"10",supplyApy:1.12,borrowApy:1.23,usdExchange:1.75127,isOn:!1},{asset:"LQ",APY:"10",supplyApy:14.44,borrowApy:14.56,isOn:!1,usdExchange:12.23}],totalBalance:1337},reducers:{toggleSupply:function(e,t){e.markets.find((function(e){return e.asset===t.payload.asset})).isOn=!0}}}),g=n(60),C=n(40),B=n(41),_=n(63),F=Object(o.createSlice)({name:"wallet",initialState:{address:"lqTest",assets:[{name:"ADA",balance:990,currentSupply:10,currentBorrow:0},{name:"LQ",balance:500,currentSupply:0,currentBorrow:0}]},reducers:{setSupply:function(e,t){var n=t.payload;e.assets.find((function(e){return e.name===n.asset.name})).currentSupply+=n.amount,e.assets.find((function(e){return e.name===n.asset.name})).balance-=n.amount},withdrawSupply:function(e,t){var n=t.payload;e.assets.find((function(e){return e.name===n.asset.name})).currentSupply-=n.amount,e.assets.find((function(e){return e.name===n.asset.name})).balance+=n.amount},borrow:function(e,t){var n=t.payload;e.assets.find((function(e){return e.name===n.asset.name})).currentSupply-=n.amount,e.assets.find((function(e){return e.name===n.asset.name})).balance+=n.amount}}}),N=function(e){var t=Object(c.useState)(!1),n=Object(i.a)(t,2),r=n[0],a=n[1],s=Object(c.useState)(!1),j=Object(i.a)(s,2),d=j[0],u=j[1],o=Object(c.useState)("supply"),b=Object(i.a)(o,2),h=b[0],O=b[1],x=Object(l.b)(),m=function(){a(!1),N(0),q(0)},f=function(){return Object(p.jsxs)("ul",{className:"nav nav-tabs",children:[Object(p.jsx)("li",{className:"nav-item",children:Object(p.jsx)("a",{className:"nav-link"+("supply"===h?" active":""),href:"#",onClick:function(){return O("supply")},children:"Supply"})}),Object(p.jsx)("li",{className:"nav-item",children:Object(p.jsx)("a",{className:"nav-link"+("withdraw"===h?" active":""),href:"#",onClick:function(){return O("withdraw")},children:"Withdraw"})})]})},y=Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{children:"Supply APY"}),Object(p.jsx)("td",{children:e.market.asset.supplyApy})]}),Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{children:"Borrow Limit"}),Object(p.jsx)("td",{children:"?"})]}),Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{children:"Borrow Limit Used"}),Object(p.jsx)("td",{children:"?"})]})]}),w=Object(c.useState)(0),v=Object(i.a)(w,2),A=v[0],N=v[1],L=!A||A<=0||A>e.walletAsset.balance,P=Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)(g.a.Body,{children:[Object(p.jsx)(f,{}),Object(p.jsx)(S.a,{children:Object(p.jsxs)(C.a,{children:[Object(p.jsx)(S.a.Label,{children:"Amount"}),Object(p.jsx)(B.a,{type:"text",placeholder:"Amount",value:A,onChange:function(e){return N(e.target.value)}})]})}),Object(p.jsx)(k.a,{children:Object(p.jsxs)("tbody",{children:[y,Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{children:"Wallet Balance"}),Object(p.jsx)("td",{children:e.walletAsset.balance})]})]})})]}),Object(p.jsxs)(g.a.Footer,{children:[Object(p.jsx)(_.a,{variant:"secondary",onClick:m,children:"Cancel"}),Object(p.jsx)(_.a,{variant:"primary",disabled:L,onClick:function(){u(!0),setTimeout((function(){x(F.actions.setSupply({amount:parseInt(A),asset:e.walletAsset})),a(!1),u(!1),N(0)}),500)},children:"Supply"})]})]}),T=Object(c.useState)(0),Y=Object(i.a)(T,2),W=Y[0],q=Y[1],D=!W||W<=0||W>e.walletAsset.currentSupply,E=Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)(g.a.Body,{children:[Object(p.jsx)(f,{}),Object(p.jsx)(S.a,{children:Object(p.jsxs)(C.a,{children:[Object(p.jsx)(S.a.Label,{children:"Amount"}),Object(p.jsx)(B.a,{type:"text",placeholder:"Amount",value:W,onChange:function(e){return q(e.target.value)}})]})}),Object(p.jsx)(k.a,{children:Object(p.jsxs)("tbody",{children:[y,Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{children:"Currently Supplying"}),Object(p.jsx)("td",{children:e.walletAsset.currentSupply})]})]})})]}),Object(p.jsxs)(g.a.Footer,{children:[Object(p.jsx)(_.a,{variant:"secondary",onClick:m,children:"Cancel"}),Object(p.jsx)(_.a,{variant:"primary",disabled:D,onClick:function(){u(!0),setTimeout((function(){x(F.actions.withdrawSupply({amount:parseInt(W),asset:e.walletAsset})),a(!1),u(!1),q(0)}),500)},children:"Withdraw"})]})]}),H=function(){return Object(p.jsxs)(g.a,{show:r,onHide:m,children:[Object(p.jsx)(g.a.Header,{closeButton:!0,children:Object(p.jsxs)(g.a.Title,{children:["Supply ",e.market.asset]})}),Object(p.jsx)(g.a.Body,{children:Object(p.jsx)("div",{children:"Confirming..."})}),Object(p.jsx)(g.a.Footer,{})]})};return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(_.a,{variant:"primary",onClick:function(){return a(!0)},children:"Supply"}),d?Object(p.jsx)(H,{}):Object(p.jsxs)(g.a,{show:r,onHide:m,children:[Object(p.jsx)(g.a.Header,{className:"justify-content-center",closeButton:!0,children:Object(p.jsx)(g.a.Title,{children:e.market.asset})}),"supply"===h?P:E]})]})},L=function(e){var t,n=Object(l.b)(),c=Object(l.c)((function(e){return e.wallet})),r=(t=e.market.asset,c.assets.find((function(e){return e.name==t}))),a=r?r.balance:0;return Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{children:e.market.asset}),Object(p.jsxs)("td",{children:[e.market.APY,"%"]}),Object(p.jsxs)("td",{children:[a," ",e.market.asset]}),Object(p.jsx)("td",{children:Object(p.jsx)(S.a,{children:Object(p.jsx)(S.a.Check,{type:"switch",id:"switch"+e.market.asset,label:"",onChange:function(t){return function(e,t){var c={asset:e,value:t};n(A.actions.toggleSupply(c))}(e.market.asset,t.target.value)},value:e.market.isOn})})}),Object(p.jsx)("td",{children:a>0&&Object(p.jsx)(N,{market:e.market,walletAsset:r})})]})},P=function(){var e=Object(l.c)((function(e){return e.supply})),t=Object(l.c)((function(e){return e.wallet})).assets.map((function(t){return t.currentSupply*e.markets.find((function(e){return e.asset===t.name})).usdExchange})).reduce((function(e,t){return e+t}),0),n=e.markets.map((function(e){return Object(p.jsx)(L,{market:e},e.asset)}));return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)("div",{className:"text-center",style:{height:"100px"},children:[Object(p.jsx)("h4",{children:"Supply Balance"}),Object(p.jsxs)("h5",{children:["$",t.toFixed(6)]})]}),Object(p.jsx)("h4",{children:"Supply Markets"}),Object(p.jsxs)(k.a,{children:[Object(p.jsx)("thead",{children:Object(p.jsxs)("tr",{children:[Object(p.jsx)("th",{children:"Asset"}),Object(p.jsx)("th",{children:"APY"}),Object(p.jsx)("th",{children:"Wallet"}),Object(p.jsx)("th",{children:"Collateral"}),Object(p.jsx)("th",{})]})}),Object(p.jsx)("tbody",{children:n})]})]})},T=Object(o.createSlice)({name:"market",initialState:{markets:[{asset:"ADA",apySupply:1.5,apyBorrow:5.5,usdExchange:1.75127},{asset:"LQ",apySupply:5.5,apyBorrow:8.5,usdExchange:12.23}]}}),Y=function(e){var t,n,r=Object(c.useState)(!1),a=Object(i.a)(r,2),s=a[0],j=a[1],d=Object(c.useState)(0),u=Object(i.a)(d,2),o=u[0],b=u[1],h=Object(c.useState)(!1),O=Object(i.a)(h,2),x=O[0],m=O[1],f=Object(l.b)(),y=function(){j(!1),b(0)},w=e.walletAsset.balance,v=!o||o<=0||o>w;return x?(t=Object(p.jsx)("div",{children:"Confirming..."}),n=Object(p.jsx)("div",{})):(t=Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(S.a,{children:Object(p.jsxs)(C.a,{children:[Object(p.jsx)(S.a.Label,{children:"Amount"}),Object(p.jsx)(B.a,{type:"text",placeholder:"Amount",value:o,onChange:function(e){return b(e.target.value)}})]})}),Object(p.jsx)(k.a,{children:Object(p.jsx)("tbody",{children:Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{children:"Balance"}),Object(p.jsx)("td",{children:w})]})})})]}),n=Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(_.a,{variant:"secondary",onClick:y,children:"Cancel"}),Object(p.jsx)(_.a,{variant:"primary",disabled:v,onClick:function(){m(!0),setTimeout((function(){f(F.actions.setSupply({amount:parseInt(o),asset:e.walletAsset})),j(!1),m(!1),b(0)}),500)},children:"Confirm"})]})),Object(p.jsxs)(p.Fragment,{children:[Object(p.jsx)(_.a,{variant:"primary",onClick:function(){return j(!0)},children:"Borrow"}),Object(p.jsxs)(g.a,{show:s,onHide:y,children:[Object(p.jsx)(g.a.Header,{closeButton:!0,children:Object(p.jsxs)(g.a.Title,{children:["Borrow ",e.market.asset]})}),Object(p.jsx)(g.a.Body,{children:t}),Object(p.jsx)(g.a.Footer,{children:n})]})]})},W=function(e){Object(l.b)();var t,n=Object(l.c)((function(e){return e.wallet})),c=(t=e.market.asset,n.assets.find((function(e){return e.name==t})));return Object(p.jsxs)("tr",{children:[Object(p.jsx)("td",{children:e.market.asset}),Object(p.jsxs)("td",{children:[e.market.APY,"%"]}),Object(p.jsxs)("td",{children:[e.market.wallet," ",e.market.asset]}),Object(p.jsxs)("td",{children:["$\xa0",e.market.liquidity]}),Object(p.jsx)("td",{children:Object(p.jsx)(Y,{market:e.market,walletAsset:c})})]})},q=function(){var e=Object(l.c)((function(e){return e.market.markets}));return Object(p.jsxs)(p.Fragment,{children:[Object(p.jsxs)("div",{className:"text-center",style:{height:"100px"},children:[Object(p.jsx)("h4",{children:"Borrow Balance"}),Object(p.jsxs)("h5",{children:["$",(0).toFixed(6)]})]}),Object(p.jsx)("h4",{children:"Borrow Markets"}),Object(p.jsxs)(k.a,{children:[Object(p.jsx)("thead",{children:Object(p.jsxs)("tr",{children:[Object(p.jsx)("th",{children:"Assets"}),Object(p.jsx)("th",{children:"APY"}),Object(p.jsx)("th",{children:"Wallet"}),Object(p.jsx)("th",{children:"Liquidity"}),Object(p.jsx)("th",{})]})}),Object(p.jsx)("tbody",{children:e.map((function(e){return Object(p.jsx)(W,{market:e},e.asset)}))})]})]})},D=function(){var e=Object(l.c)((function(e){return e.wallet}));return Object(p.jsxs)(_.a,{children:["Wallet ",e.address]})},E=function(){return Object(p.jsxs)(v.a,{bg:"light",children:[Object(p.jsx)(v.a.Brand,{className:"text-dark",children:"Liqwid App"}),Object(p.jsx)(v.a.Collapse,{className:"justify-content-end",children:Object(p.jsx)(D,{})})]})},H=function(){var e=4.528.toFixed(2);return Object(p.jsxs)(f.a,{children:[Object(p.jsx)(y.a,{children:Object(p.jsx)(w.a,{children:Object(p.jsx)(E,{})})}),Object(p.jsxs)("div",{style:{marginBottom:"50px",marginTop:"50px"},className:"text-center",children:[Object(p.jsx)("h5",{children:"Dashboard"}),Object(p.jsxs)("h1",{className:"mt-5",children:["Net APY ",e,"%"]})]}),Object(p.jsxs)(y.a,{children:[Object(p.jsx)(w.a,{children:Object(p.jsx)(P,{})}),Object(p.jsx)(w.a,{children:Object(p.jsx)(q,{})})]})]})},I=(0,n(11).createSlice)({name:"borrow",initialState:{markets:[{asset:"ADA",APY:"10",wallet:"1000",liquidity:"?"}],totalBalance:42}}),$=Object(o.configureStore)({reducer:{counter:m,supply:A.reducer,borrow:I.reducer,market:T.reducer,wallet:F.reducer}});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(57);s.a.render(Object(p.jsx)(r.a.StrictMode,{children:Object(p.jsx)(l.a,{store:$,children:Object(p.jsx)(H,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[58,1,2]]]);
//# sourceMappingURL=main.9ee74560.chunk.js.map